---
title: Motion - trajectory planning
subtitle: The algorithms to make things move
sort: 20
---

import { Row, Col } from 'antd';
import {CheckCircleOutlined} from '@ant-design/icons'
import {Tldr} from "../../framework/components/Tldr";
import { Image } from "../../framework/components/Image"
import { TransformWrapper, TransformComponent } from "react-zoom-pan-pinch";

# Motion - trajectory planning
<Tldr>
- Includes sophisticated trajectory planner
- Time synchronised multi-dimensional trajectories
- Jerk limited
- Multiple pre-built and custom kinematics models
</Tldr>

A motion control calculates the trajectories that the motors follow in order to meet the desired commanded movement.

At the heart of the glowbuzzer tool kit is our own innovative trajectory planner that computes time optimal and time synchronised multi-dimensional third-order trajectories complying maximal asymmetric motion limits on velocity, acceleration and jerk. This provides the core of our 3D-axis, synchronized axis and single-axis motion control capabilities.

A trajectory is often composed as a sequence of positions over time. These sequences tell the motors where to position itself at a certain time. Implicitly this gives how fast the motor will move.

These trajectories are sent to the drives which control the motors. The trajectories are calculated cyclically. For example a position trajectory would be:

* 1ms - motor should be at 1 degree
* 2ms - motor should be at 2 degrees
* 3ms - motor should be at 4 degress

Each drive must receive the trajectory at precisely the same movement if you want to execute synchronised movements using multiple motors. Hence the need for real-time execution and time synchronised fieldbusses.

The following screen show the clever calculation that occurs inside the glowbuzzer trajectory planner each cycle.

Using limits of (amax = 3300, jmax = 314800, vmax = 1040) with initial conditions of (astart = 100, vstart = 0) calculate a trajectory to a position (pwayp = 1000) arriving at the waypoint with a velocity (vwayp = 0) and arriving at time (twayp = 10).

import screenshot_raw_planner from "./trajectory_images/screenshot_raw_planner.png"

<div style={{margin: "50px"}}>
    <TransformWrapper>
        <TransformComponent>
            <img src={screenshot_raw_planner} width={"105%"} alt={"planner"} />
        </TransformComponent>
    </TransformWrapper>
</div>




# Features
The glowbuzzer trajectory planner includes the following features:


<Row >
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Basic single joint control</b><p>Move absolute, move relative, move at velocity, stop, superimposed move</p></Col>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Basic multiple joint control</b><p>Gearing and phasing. Different algorithms for specialist applications</p></Col>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>On the fly changes to trajectories</b><p>Trajectories can be modified in real-time to respond to events</p></Col>
</Row>
<Row>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Blending of moves</b><p>Single joint and co-ordinated moves can be blended together</p></Col>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Kinematics groups</b><p>Joints can be grouped into kinematics groups to which a Forward and Inverse Kinematics algorithm is applied</p></Col>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Co-ordinated moves</b><p>Move line and move arc in 3D space</p></Col>
</Row>
<Row>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Frames</b><p>Co-ordinate systems translations and rotations can be applied in an arbitrary hierarchy</p></Col>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>gcode control</b><p>Kinematics groups and single joints can be controlled with gcode through a standard RS-274 G-Code interpreter.Flexibility to adapt the syntax</p></Col>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Time-optimal trajectories</b><p>All trajectories are guaranteed to be time-optimal</p></Col>
</Row>
<Row>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Time-synchronised trajectories</b><p>Multi-joint trajectories can be calculated to time-optimally arrive at a destination at the same time</p></Col>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Streamed trajectories</b><p>Large sequences of moves can be streamed to the low-level control</p></Col>
    <Col span={1}> <CheckCircleOutlined/> </Col>
    <Col xs={23} xl={7}><b>Jogging</b><p>Creation of continuous and step jog trajectories</p></Col>
</Row>

The motion control includes a variety of kinematics modules to support different types of robot and machines (6 industrial robots, 5 axis industrial SCARA robots, delta, cartesian, hexpod etc.)
