---
title: Detail
subtitle: More technical details on the toolkit
sort: 2
---


import {Avatar, Col, Divider, List, Row} from 'antd';
import {Tldr} from "../../framework/components/Tldr";
import {DesktopOutlined} from "@ant-design/icons"
import TiersImage1 from './tiers-GBEM.svg'
import TiersImage2 from './tiers-GBSM.svg'


# A little bit more technical detail...

<Tldr>
- Multiple components in the toolkit
- Layer 1 - React components
- Layer 2 - Real-time control
- Layer 3 - Drives & IO interface
</Tldr>

The glowbuzzer toolkit is structured as three layers.
Each layer is a separate software component in the glowbuzzer toolkit.

<Row align={"middle"} style={{padding: "10px"}}>
    <Col span={2}/>
    <Col span={22}>
        <li style={{padding: "10px"}}><b>LAYER 1</b> is the front-end react components used to build the user interface and machine control logic</li>
        <li style={{padding: "10px"}}><b>LAYER 2</b> is the real-time core control</li>
        <li style={{padding: "10px"}}><b>LAYER 3</b> is the interface to drives and IO</li>
    </Col>
</Row>

# Integrating with a fieldbus

When you want to integrate with EtherCAT drives and IO, you use GBEM which is an EtherCAT master. This talks to GBC the real-time control and to the EtherCAT network itself.

<img src={TiersImage1} alt="GBEM tiers"/>

# Integrating with a motor driver ICs

When you want to integrate with motor driver ICs (usually in an embedded environment) you used GBSM which talks over SPI to common motor driver ICs.

<img src={TiersImage2} alt="GBSM tiers"/>

<Divider orientation="left"><h1>LAYER 1 - Front-end React components</h1></Divider>

We supply a comprehensive set of components to perform the fundamental machine control functions:

<List bordered style={{width: '500px'}}>
    <List.Item>
        <List.Item.Meta
            title="Connect to a machine"
            description="Establish a websockets connection to GBC"
            avatar={<Avatar
                icon={<DesktopOutlined/>}
                size={"large"}
                style={{backgroundColor: "#f0f0f0", color: "black"}}
            />}
        />
    </List.Item>
    <List.Item>
        <List.Item.Meta
            avatar={<Avatar
                icon={<DesktopOutlined/>} size={"large"} style={{backgroundColor: "#f0f0f0", color: "black"}}/>}
            title="Manage digital and analogue inputs and outputs"
            description="Establish a websockets connection to GBC"
        />
    </List.Item>
    <List.Item>
        <List.Item.Meta
            avatar={<Avatar
                icon={<DesktopOutlined/>} size={"large"} style={{backgroundColor: "#f0f0f0", color: "black"}}/>}
            title="managed the machine's state (switched on, faults)"
            description="Establish a websockets connection to GBC"
        />
    </List.Item>
    <List.Item>
        <List.Item.Meta
            avatar={<Avatar
                icon={<DesktopOutlined/>} size={"large"} style={{backgroundColor: "#f0f0f0", color: "black"}}/>}
            title="Make a machine move - jogging"
            description="Establish a websockets connection to GBC"
        />
    </List.Item>
    <List.Item>
        <List.Item.Meta
            avatar={<Avatar
                icon={<DesktopOutlined/>} size={"large"} style={{backgroundColor: "#f0f0f0", color: "black"}}/>}
            title="See the machineâ€™s position (DRO)"
            description="Establish a websockets connection to GBC"
        />
    </List.Item>
    <List.Item>
        <List.Item.Meta
            avatar={<Avatar
                icon={<DesktopOutlined/>} size={"large"} style={{backgroundColor: "#f0f0f0", color: "black"}}/>}
            title="Send gcode to a machine"
            description="Establish a websockets connection to GBC"
        />
    </List.Item>
    <List.Item>
        <List.Item.Meta
            avatar={<Avatar
                icon={<DesktopOutlined/>} size={"large"} style={{backgroundColor: "#f0f0f0", color: "black"}}/>}
            title="See the path on which a machine moves"
            description="Establish a websockets connection to GBC"
        />
    </List.Item>
</List>

These components are all published under an open - source license agreement and are fully customisable.You can also, of course, tap in the vast ecosystem of components & code available in the wider React / JavaScript ecosystem.When FE components need the machine to do something, they send high - level commands to the machine control over a WebSocket interface.They also receive messages containing the state of the machine over this connection.

<Divider orientation="left"><h1>LAYER 2 - Real-time core control (GBC)</h1></Divider>

This is the only closed source component of the glowbuzzer toolkit.

GBC takes high level machine commands from the FE over a WebSocket connection and processes them into a form that the fieldbus can understand, namely a process image(output - PI) detailing the state of all outputs updated on a millisecond cycle time.

In reverse, the input - PI is updated from the state of the fieldbus and sent back to the FE in the form of high level WebSocket messages.

When running on a Linux platform, the process image is available via a shared memory interface(or on embedded platform a dual port memory(Q)SPI interface) for use by whatever process is responsible for reading and writing from the fieldbus or to motors and IO.

GBC calculates the trajectories for any motion commands issued and performs the forward and inverse kinematics for different machine configurations.

<Divider orientation="left"><h1>LAYER 3 - Motor and IO control (GBEM or GBSM)</h1></Divider>

The process image generated by GBC needs to be written to and read from drives & IO.We provide a number of options to provide this:

* (Linux or embedded microcontroller) for communicating with EtherCAT drives and IO, we provide GBEM an EtherCAT master based on the SOEM open - source EtherCAT master stack
* (Linux or embedded microcontroller) An interface layer to integrate with common EtherCAT slave ICs(E.g.Microchip's LAN9252/3) to provide an EtherCAT slave interface.
* (Linux or embedded microcontroller) e Hilscher netX chipset.
* (Linux or embedded microcontroller) GBSM to communciate(our reference design for this uses the Trinamic chip set)

