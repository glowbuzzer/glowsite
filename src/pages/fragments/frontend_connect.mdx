import connect_tile from "../fragments/connect_tile.svg"
import connect_tile_gif from "../fragments/connect_tile.gif"
import connect_tile_video from "./connect_tile.webm"

Click the settings cog ⚙️ in the title bar of the connect tile and set the connection url for &gbc;.

<img src={connect_tile_gif} alt="front-end connect tile"/>

If you are running &gbc on WSL or your host operating system, the default localhost url `ws://localhost:9001/ws` is suitable.

If you are targeting a remote &gbc instance (for example, on a Virtual Machine or Raspberry Pi) then use a url of the form `ws://<host>:9001/ws`.

You are now ready to connect. In the demo screen, the "Connection" tile allows you to connect or disconnect from &gbc, and provides basic information about the state of &gbc when connected.
To connect, click the "Connect" button in the tile header. This establishes the web socket connection between &gbr and &gbc.

&gbc starts in simulation mode. Commands sent to &gbc are not passed onto any machine connected to &gbc. It also starts with a fault active,
because prior to connecting &gbc had no front-end to communicate with. &gbc will fault any time the front-end connection drops.
To clear the fault and enable operation, click the Clear Fault button then click the Enabled button. The current state will indicate operation enabled.

The following diagram illustrates the key features of the connection tile.

<img src={connect_tile} alt="front-end connect tile"/>

{/*
If you want to control a machine for real, you need to click the "Live" button.

Whether you are in Simulation mode or Live, "Current state" will tell you the current (CiA-402) state of the machine.

If the machine is in Fault state, you will need to click the "Fault reset" button to clear the fault.

Next, the "Machine operation" buttons take the machine through its state machine. Either up to "Operation Enabled" or down to "Operation Disabled".
*/}

{/*
The follow video shows the process of connecting, clearing the initial fault and enabling operation:

<video autoPlay loop muted playsInline>
    <source src={connect_tile_video} type="video/webm"></source>
</video>
*/}
